<div class="container mt-5">

    <!-- Mail me area -->
    <div class="row mb-5 mailarea">
        <div class="col-12">
            <i class="fa-solid fa-envelope margin"></i>
            <span class="mailtext">
                {{ 'EMAIL_ME' | translate }}
            </span>
        </div>
        <div class="col-12">
            <a href="mailto:contact&#64;germanarciniegas.life" class="mail">
                contact&#64;germanarciniegas.life
            </a>
        </div>
    </div>

    <!-- Contact Form -->
    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        
        <!-- First row: First Name y Second Name -->
        <div class="row">
            <div class="col-12 col-md-6 mb-4">
                <label
                    for="firstName"
                    class="form-label"
                    [ngClass]="{
                        'text-danger': 
                        contactForm.get('firstName')?.invalid && 
                        contactForm.get('firstName')?.touched
                    }"
                >{{ 'CFORM_NAME' | translate }}</label>
                <input
                    type="text"
                    class="form-control mb-2"
                    id="firstName"
                    placeholder="{{ 'CFORM_NAME_PLACEHOLDER' | translate }}"
                    formControlName="firstName"
                    autocomplete="off"
                    [ngClass]="{
                        'border-danger': 
                        contactForm.get('firstName')?.invalid && 
                        contactForm.get('firstName')?.touched
                    }"
                >
                <span *ngIf="contactForm.get('firstName')?.invalid && contactForm.get('firstName')?.touched" class="text-danger">
                    <i class="fa-solid fa-triangle-exclamation fa-beat margin"></i> 
                    {{ 'CFORM_NAME_ERROR' | translate }}
                </span>
            </div>
            <div class="col-12 col-md-6 mb-4">
                <label
                    for="secondName"
                    class="form-label"
                    [ngClass]="{
                        'text-danger': 
                        contactForm.get('secondName')?.invalid && 
                        contactForm.get('secondName')?.touched
                    }"
                >{{ 'CFORM_LASTNAME' | translate }}</label>
                <input
                    type="text"
                    class="form-control mb-2"
                    id="secondName"
                    placeholder="{{ 'CFORM_LASTNAME_PLACEHOLDER' | translate }}"
                    formControlName="secondName"
                    autocomplete="off"
                    [ngClass]="{
                        'border-danger': 
                        contactForm.get('secondName')?.invalid && 
                        contactForm.get('secondName')?.touched
                    }"
                >
                <span *ngIf="contactForm.get('secondName')?.invalid && contactForm.get('secondName')?.touched" class="text-danger">
                    <i class="fa-solid fa-triangle-exclamation fa-beat margin"></i> 
                    {{ 'CFORM_LASTNAME_ERROR' | translate }}
                </span>
            </div>
        </div>

        <!-- Second row: E-Mail -->
        <div class="row mb-4">
            <div class="col-12">
                <label
                    for="email"
                    class="form-label"
                    [ngClass]="{
                        'text-danger': 
                        contactForm.get('email')?.invalid && 
                        contactForm.get('email')?.touched
                    }"
                >{{ 'CFORM_EMAIL' | translate }}</label>
                <input
                    type="email"
                    class="form-control mb-2"
                    id="email"
                    placeholder="{{ 'CFORM_EMAIL_PLACEHOLDER' | translate }}"
                    formControlName="email"
                    [ngClass]="{
                        'border-danger': 
                        contactForm.get('email')?.invalid && 
                        contactForm.get('email')?.touched
                    }"
                >
                <span *ngIf="contactForm.get('email')?.invalid && contactForm.get('email')?.touched" class="text-danger">
                    <i class="fa-solid fa-triangle-exclamation fa-beat margin"></i> 
                    {{ 'CFORM_EMAIL_ERROR' | translate }}
                </span>
            </div>
        </div>

        <!-- Third row: Subject -->
        <div class="row mb-4">
            <div class="col-12">
                <label
                    for="subject"
                    class="form-label"
                    [ngClass]="{
                        'text-danger': 
                        contactForm.get('subject')?.invalid && 
                        contactForm.get('subject')?.touched
                    }"
                >{{ 'CFORM_SUBJECT' | translate }}</label>
                <input
                    type="text"
                    class="form-control mb-2"
                    id="subject"
                    placeholder="{{ 'CFORM_SUBJECT_PLACEHOLDER' | translate }}"
                    formControlName="subject"
                    [ngClass]="{
                        'border-danger': 
                        contactForm.get('subject')?.invalid && 
                        contactForm.get('subject')?.touched
                    }"
                >
                <span *ngIf="contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched" class="text-danger">
                    <i class="fa-solid fa-triangle-exclamation fa-beat margin"></i> 
                    {{ 'CFORM_SUBJECT_ERROR' | translate }} {{ contactForm.get('subject')?.value.length }}&#41;.
                </span>
            </div>
        </div>

        <!-- Fourth row: Message -->
        <div class="row mb-4">
            <div class="col-12">
                <label
                    for="message"
                    class="form-label"
                    [ngClass]="{
                        'text-danger': 
                        contactForm.get('message')?.invalid && 
                        contactForm.get('message')?.touched
                    }"
                >{{ 'CFORM_MESSAGE' | translate }}</label>
                <textarea
                    class="form-control mb-2"
                    id="message"
                    rows="4"
                    placeholder="{{ 'CFORM_MESSAGE_PLACEHOLDER' | translate }}"
                    formControlName="message"
                    autocomplete="off"
                    [ngClass]="{
                        'border-danger': 
                        contactForm.get('message')?.invalid && 
                        contactForm.get('message')?.touched
                    }"
                ></textarea>
                <span *ngIf="contactForm.get('message')?.invalid && contactForm.get('message')?.touched" class="text-danger">
                    <i class="fa-solid fa-triangle-exclamation fa-beat margin"></i> 
                    {{ 'CFORM_MESSAGE_ERROR' | translate }} {{ contactForm.get('message')?.value.length }}&#41;.
                </span>
            </div>
        </div>

        <!-- reCAPTCHA -->
        <div class="row mb-4">
            <div class="col-12">
                <re-captcha
                    formControlName="recaptcha"
                    [siteKey]="siteKey"
                    (resolved)="onCaptchaResolved($event)">
                </re-captcha>
                <span *ngIf="contactForm.get('recaptcha')?.invalid && contactForm.get('recaptcha')?.touched" class="text-danger">
                    <i class="fa-solid fa-triangle-exclamation fa-beat margin"></i>
                    {{ 'CFORM_RECAPTCHA_ERROR' | translate }}
                </span>
            </div>
        </div>

        <!-- Submit Button -->
        <div class="row pt-3">
            <div class="col-12 col-md-3">
                <button type="submit" class="btn btn-primary w-100" [disabled]="contactForm.invalid">
                    {{ 'CFORM_SEND' | translate }}
                </button>
            </div>
        </div>
    </form>
</div>